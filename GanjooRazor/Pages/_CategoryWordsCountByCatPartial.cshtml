@model GanjooRazor.Pages._CategoryWordsCountByCatPartialModel

@if (!Model.Blur || Model.WordStats.Length == 0)
{
    <text>
        <partial name="_CategoryWordsCountByCatTablePartial" model="Model.Model">
    </text>
}
else
{
    <div class="expandable-container-wrapper">
        <div class="expandable-content" id="expandableContent">
            <partial name="_CategoryWordsCountByCatTablePartial" model="Model.Model">
        </div>
        <div class="expandable-blur-overlay" id="expandableBlur"></div>
    </div>

    <a id="expand-toggle-btn" href="javascript:toggleExpandableContent()" class="pagebutton comments-link">
        نمایش فهرست کامل
    </a>

    <script>
        const expandableDiv = document.getElementById("expandableContent");
        const blurOverlay = document.getElementById("expandableBlur");
        const toggleButton = document.getElementById("expand-toggle-btn");
        let isExpanded = false;

        const collapsedHeight = 200;
        expandableDiv.style.height = collapsedHeight + "px";

        function toggleExpandableContent() {
            if (isExpanded) {
                // Collapse
                expandableDiv.style.height = collapsedHeight + "px";
                blurOverlay.style.opacity = "1"; // Show blur
                toggleButton.textContent = "نمایش فهرست کامل";
            } else {
                // Expand to full height
                expandableDiv.style.height = (expandableDiv.scrollHeight + 170 ) + "px";
                blurOverlay.style.opacity = "0"; // Remove blur
                toggleButton.textContent = "جمع کردن فهرست";
            }
            isExpanded = !isExpanded;
        }
    </script>
}



